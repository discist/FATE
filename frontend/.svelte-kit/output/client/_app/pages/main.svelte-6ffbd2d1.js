import{L as ie,M as ue,S as J,i as R,s as j,e as u,t as D,k as g,c as f,a as m,h as k,d as i,m as $,b as d,N as fe,g as z,J as l,O as se,K as F,P as de,Q as ae,R as me,v as pe,T as _e,U as w,F as he,G as ge,H as $e,I as ve,q as C,o as K,w as ne,x as re,y as oe,B as le}from"../chunks/vendor-afff52ae.js";import{r as xe}from"../chunks/singletons-a6a7384f.js";import{a as ce,b as be,t as ye,U as S,c as H}from"../chunks/DbService-f80f5c11.js";const we=Ee;async function Ee(o,e){return xe.goto(o,e,[])}const Ie=new ie;async function Ue(){console.log("Show Google Sign in popup called");let o={data:null,access:!1};try{let e=await ue(ce,Ie);o.data=e,o.access=!0;let s=await be(e.user.uid,{});if(!s.success)return o.data=s.data,o.access=!1,o}catch(e){o.data=e.message,o.access=!1}return o}function De(o){let e,s,t,r,n,a,p,h,G,E,N,I,M,x,P,A,_,b,L,V,y,Q,O,v,q,B,W;return{c(){e=u("main"),s=u("h1"),t=D("FATE"),r=g(),n=u("p"),a=D("Let the universe find the one for you"),p=g(),h=u("div"),G=g(),E=u("div"),N=g(),I=u("div"),M=g(),x=u("h1"),P=D("Join"),A=g(),_=u("button"),b=u("p"),L=D("Google"),V=g(),y=u("img"),O=g(),v=u("button"),q=D("db"),this.h()},l(U){e=f(U,"MAIN",{});var c=m(e);s=f(c,"H1",{class:!0});var X=m(s);t=k(X,"FATE"),X.forEach(i),r=$(c),n=f(c,"P",{class:!0});var Y=m(n);a=k(Y,"Let the universe find the one for you"),Y.forEach(i),p=$(c),h=f(c,"DIV",{class:!0}),m(h).forEach(i),G=$(c),E=f(c,"DIV",{class:!0}),m(E).forEach(i),N=$(c),I=f(c,"DIV",{class:!0}),m(I).forEach(i),M=$(c),x=f(c,"H1",{class:!0});var Z=m(x);P=k(Z,"Join"),Z.forEach(i),A=$(c),_=f(c,"BUTTON",{class:!0});var T=m(_);b=f(T,"P",{class:!0});var ee=m(b);L=k(ee,"Google"),ee.forEach(i),V=$(T),y=f(T,"IMG",{src:!0,alt:!0}),T.forEach(i),O=$(c),v=f(c,"BUTTON",{class:!0});var te=m(v);q=k(te,"db"),te.forEach(i),c.forEach(i),this.h()},h(){d(s,"class","text-gray-300 font-serif text-5xl "),d(n,"class","mt-10 text-gray-300 font-mono text-3xl font-extralightin"),d(h,"class","stars -z-10 svelte-1ct01wu"),d(E,"class","twinkling -z-10  svelte-1ct01wu"),d(I,"class","clouds svelte-1ct01wu"),d(x,"class","font-mono text-2xl mt-16 mb-10"),d(b,"class","mx-3"),fe(y.src,Q="/google.svg")||d(y,"src",Q),d(y,"alt",""),d(_,"class","btn font-mono text-white"),d(v,"class","btn")},m(U,c){z(U,e,c),l(e,s),l(s,t),l(e,r),l(e,n),l(n,a),l(e,p),l(e,h),l(e,G),l(e,E),l(e,N),l(e,I),l(e,M),l(e,x),l(x,P),l(e,A),l(e,_),l(_,b),l(b,L),l(_,V),l(_,y),l(e,O),l(e,v),l(v,q),B||(W=[se(_,"click",o[2]),se(v,"click",ye)],B=!0)},p:F,i:F,o:F,d(U){U&&i(e),B=!1,de(W)}}}function ke(o,e,s){let t,r;return ae(o,S,a=>s(0,t=a)),ae(o,H,a=>s(1,r=a)),me(0,{duration:1110,easing:_e}),pe(async()=>{}),[t,r,async()=>{let a=await Ue();console.log(a),a.access&&(w(S,t.uid=a.data.user.uid,t),w(S,t.name=a.data.user.displayName,t),w(S,t.token=a.data.user.accessToken,t),w(S,t.pfp=a.data.user.photoURL,t),w(H,r.name=a.data.user.displayName,r),w(H,r.email=a.data.user.email,r),we("/editprofile"))}]}class Se extends J{constructor(e){super();R(this,e,ke,De,j,{})}}function Te(o){let e,s,t;const r=o[1].default,n=he(r,o,o[0],null);return{c(){e=u("div"),s=u("div"),n&&n.c(),this.h()},l(a){e=f(a,"DIV",{style:!0,class:!0});var p=m(e);s=f(p,"DIV",{class:!0});var h=m(s);n&&n.l(h),h.forEach(i),p.forEach(i),this.h()},h(){d(s,"class","text-2xl sm:text-3xl md:text-4xl lg:text-5xl mx-10 "),d(e,"style",""),d(e,"class","snap-start bg-transparent flex items-center justify-center w-screen h-screen ")},m(a,p){z(a,e,p),l(e,s),n&&n.m(s,null),t=!0},p(a,[p]){n&&n.p&&(!t||p&1)&&ge(n,r,a,a[0],t?ve(r,a[0],p,null):$e(a[0]),null)},i(a){t||(C(n,a),t=!0)},o(a){K(n,a),t=!1},d(a){a&&i(e),n&&n.d(a)}}}function Ge(o,e,s){let{$$slots:t={},$$scope:r}=e;return o.$$set=n=>{"$$scope"in n&&s(0,r=n.$$scope)},[r,t]}class Ne extends J{constructor(e){super();R(this,e,Ge,Te,j,{})}}function Me(o){let e,s;return e=new Se({}),{c(){ne(e.$$.fragment)},l(t){re(e.$$.fragment,t)},m(t,r){oe(e,t,r),s=!0},i(t){s||(C(e.$$.fragment,t),s=!0)},o(t){K(e.$$.fragment,t),s=!1},d(t){le(e,t)}}}function Pe(o){let e,s,t;return s=new Ne({props:{$$slots:{default:[Me]},$$scope:{ctx:o}}}),{c(){e=u("main"),ne(s.$$.fragment)},l(r){e=f(r,"MAIN",{});var n=m(e);re(s.$$.fragment,n),n.forEach(i)},m(r,n){z(r,e,n),oe(s,e,null),t=!0},p(r,[n]){const a={};n&1&&(a.$$scope={dirty:n,ctx:r}),s.$set(a)},i(r){t||(C(s.$$.fragment,r),t=!0)},o(r){K(s.$$.fragment,r),t=!1},d(r){r&&i(e),le(s)}}}function Ae(o){return console.log(ce),[]}class qe extends J{constructor(e){super();R(this,e,Ae,Pe,j,{})}}export{qe as default};
