import{S as Y,i as V,s as X,e as c,t as re,a as b,b as a,c as Je,d as ot,f as A,g as o,l as J,h as me,j as I,n as E,k as it,m as Ee,w as xe,o as qe,u as Fe,p as He,q as ze,r as L,v as F,x as at,y as W,z as Le,A as De,B as Te,C as Re,D as he,E as G,F as ve,G as Bt,H as pe,I as Ce,J as Q,K as ee,L as te,M as Ne,N as Ae,O as rt,P as ie,Q as Se,R as ct,T as Et,U as qt,V as Ft,W as Xe,X as ye,Y as Ze,Z as Ke,_ as We,$ as Ht,a0 as Me,a1 as zt,a2 as ut,a3 as Gt,a4 as ft,a5 as dt,a6 as mt,a7 as Yt,a8 as Vt,a9 as Xt,aa as pt,ab as gt,ac as Zt}from"./vendor.9c1fb3d3.js";const Kt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}};Kt();function ht(n,e,t){const l=n.slice();return l[4]=e[t],l}function bt(n){let e,t,l=n[4]+"",s,i,r,u;function d(){return n[3](n[4])}return{c(){e=c("li"),t=c("div"),s=re(l),i=b(),a(t,"class","font-mono svelte-f53puo"),Je(t,"padding","20px"),ot(t,"active",n[4]===n[1]),a(e,"class","svelte-f53puo")},m(f,h){A(f,e,h),o(e,t),o(t,s),o(e,i),r||(u=J(e,"click",d),r=!0)},p(f,h){n=f,h&1&&l!==(l=n[4]+"")&&me(s,l),h&3&&ot(t,"active",n[4]===n[1])},d(f){f&&I(e),r=!1,u()}}}function Wt(n){let e,t,l=n[0],s=[];for(let i=0;i<l.length;i+=1)s[i]=bt(ht(n,l,i));return{c(){e=c("div"),t=c("ul");for(let i=0;i<s.length;i+=1)s[i].c();a(t,"class","svelte-f53puo"),a(e,"class","tabs h-auto flex flex-wrap flex-col content-center  svelte-f53puo")},m(i,r){A(i,e,r),o(e,t);for(let u=0;u<s.length;u+=1)s[u].m(t,null)},p(i,[r]){if(r&7){l=i[0];let u;for(u=0;u<l.length;u+=1){const d=ht(i,l,u);s[u]?s[u].p(d,r):(s[u]=bt(d),s[u].c(),s[u].m(t,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=l.length}},i:E,o:E,d(i){i&&I(e),it(s,i)}}}function Qt(n,e,t){let l=Ee(),{items:s}=e,{activeitem:i}=e;const r=u=>l("tabchange",u);return n.$$set=u=>{"items"in u&&t(0,s=u.items),"activeitem"in u&&t(1,i=u.activeitem)},[s,i,l,r]}class el extends Y{constructor(e){super();V(this,e,Qt,Wt,X,{items:0,activeitem:1})}}const $e=xe({uid:"",name:"x",gender:"",token:"",pfp:"",email:"",dob:"",place:"",time:""}),Pe=xe({SessionID:"",Email:"email",Autenticated:!1,Location:"",Device:""});function tl(n){let e,t,l,s,i,r,u,d,f;const h=n[1].default,p=qe(h,n,n[0],null);return{c(){e=c("button"),t=c("span"),l=b(),s=c("span"),i=b(),r=c("span"),p&&p.c(),a(t,"class","shadow svelte-132i4b6"),a(s,"class","edge svelte-132i4b6"),a(r,"class","front svelte-132i4b6"),a(e,"class","pushable svelte-132i4b6")},m(g,m){A(g,e,m),o(e,t),o(e,l),o(e,s),o(e,i),o(e,r),p&&p.m(r,null),u=!0,d||(f=J(e,"click",n[2]),d=!0)},p(g,[m]){p&&p.p&&(!u||m&1)&&Fe(p,h,g,g[0],u?ze(h,g[0],m,null):He(g[0]),null)},i(g){u||(L(p,g),u=!0)},o(g){F(p,g),u=!1},d(g){g&&I(e),p&&p.d(g),d=!1,f()}}}function ll(n,e,t){let{$$slots:l={},$$scope:s}=e;function i(r){at.call(this,n,r)}return n.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,l,i]}class sl extends Y{constructor(e){super();V(this,e,ll,tl,X,{})}}const we=xe({BaseURi:"https://api.fate.dating",CdnURi:"https://cdn.fate.dating",WebSocketUri:"wss://ws.discist.com",WebRTCUri:"https://wss.discist.com"});function nl(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x,k,y,T,v,$,j;return{c(){e=c("main"),t=c("form"),l=c("div"),s=c("div"),s.innerHTML='<h2 class="text-5xl mb-3">\u{1F318}</h2>',i=b(),r=c("input"),u=b(),d=c("input"),f=b(),h=c("button"),h.textContent="ENTER",p=b(),g=c("div"),m=re(n[2]),_=b(),x=re(n[1]),k=b(),y=c("div"),T=re(n[3]),a(r,"type","text"),a(r,"placeholder","email"),a(r,"class","mt-5 font-mono input input-bordered"),a(d,"type","password"),a(d,"placeholder","password"),a(d,"class","mt-5 mb-14 font-mono input input-bordered"),a(h,"class","btn btn-outline"),a(g,"class","mt-3 text-red-400 font-mono font-extralight"),a(y,"class","w-10 mt-3 text-green-400 text-center font-mono font-extralight"),a(l,"class","mt-12 form-control h-auto flex flex-wrap flex-col content-center "),a(t,"action","")},m(C,w){A(C,e,w),o(e,t),o(t,l),o(l,s),o(l,i),o(l,r),W(r,n[0].email),o(l,u),o(l,d),W(d,n[0].password),o(l,f),o(l,h),o(l,p),o(l,g),o(g,m),o(g,_),o(g,x),o(l,k),o(l,y),o(y,T),$||(j=[J(r,"input",n[5]),J(d,"input",n[6]),J(h,"click",ol),J(t,"submit",Le(n[4]))],$=!0)},p(C,[w]){w&1&&r.value!==C[0].email&&W(r,C[0].email),w&1&&d.value!==C[0].password&&W(d,C[0].password),w&4&&me(m,C[2]),w&2&&me(x,C[1]),w&8&&me(T,C[3])},i(C){v||De(()=>{v=Te(e,Re,{}),v.start()})},o:E,d(C){C&&I(e),$=!1,he(j)}}}const ol=()=>{};function il(n,e,t){let l,s;G(n,Pe,j=>t(12,l=j)),G(n,we,j=>t(13,s=j)),Ee();let i={email:"",password:"",device:"",location:""},r="",u,d="",f="",h="",p="",g="",m;ve(async()=>{y(),T(),console.log(l)});function _(){u=!0,i.email.trim().length<1?(console.log("email empty"),t(1,r="email empty"),u=!1):t(1,r=""),i.password.trim().length<1&&(t(1,r="password empty"),u=!1),u==!0&&x()}async function x(){console.log("post started");const C=await(await fetch(`${s.BaseURi}/login`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:i.email,password:i.password,device:p,location:h})})).json();let w;w=JSON.stringify(C),m=await JSON.parse(w),m.error?(console.log("error:",m.error),t(2,d=m.error),t(3,f="")):(k(),t(3,f="Authenticated"),g=m.uuid,t(2,d=""))}async function k(){await m.uuid!=""?Pe.update(w=>({SessionID:g,Email:i.email,Autenticated:!0,Location:h,Device:p})):console.log("failed bad shit"),console.log(l),await pe.set({key:"SesionID",value:l.SessionID}),await pe.set({key:"isLogged",value:"true"}),localStorage.getItem("NewUser")=="true"?Ce("/newuser"):Ce("/root")}async function y(){const C=await(await fetch("https://geolocation-db.com/json/8dd79c70-0801-11ec-a29f-e381a788c2c0",{method:"GET"})).json();let w;w=JSON.stringify(C),h=w}const T=async()=>{const j=await Bt.getInfo();p=JSON.stringify(j)};function v(){i.email=this.value,t(0,i)}function $(){i.password=this.value,t(0,i)}return[i,r,d,f,_,v,$]}class al extends Y{constructor(e){super();V(this,e,il,nl,X,{})}}function rl(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x,k,y,T,v,$,j;return{c(){e=c("main"),t=c("form"),l=c("div"),s=c("div"),s.innerHTML='<h2 class="text-5xl mb-3">\u{1F319}</h2>',i=b(),r=c("input"),u=b(),d=c("input"),f=b(),h=c("button"),h.textContent="Join",p=b(),g=c("div"),m=re(n[3]),_=b(),x=re(n[1]),k=b(),y=c("h1"),T=re(n[2]),a(r,"type","text"),a(r,"placeholder","email"),a(r,"class","mt-5 font-mono input input-bordered"),a(d,"type","password"),a(d,"placeholder","password"),a(d,"class","mt-5 font-mono input input-bordered"),a(h,"class","btn-lg font-mono btn-outline btn mt-14"),a(g,"class","mt-3 text-red-400 font-mono font-extralight"),a(l,"class","mt-12 form-control h-auto flex flex-wrap flex-col content-center"),a(t,"action",""),a(y,"class","text-green-500 text-3xl font-mono")},m(C,w){A(C,e,w),o(e,t),o(t,l),o(l,s),o(l,i),o(l,r),W(r,n[0].email),o(l,u),o(l,d),W(d,n[0].password),o(l,f),o(l,h),o(l,p),o(l,g),o(g,m),o(g,_),o(g,x),o(e,k),o(e,y),o(y,T),$||(j=[J(r,"input",n[5]),J(d,"input",n[6]),J(t,"submit",Le(n[4]))],$=!0)},p(C,[w]){w&1&&r.value!==C[0].email&&W(r,C[0].email),w&1&&d.value!==C[0].password&&W(d,C[0].password),w&8&&me(m,C[3]),w&2&&me(x,C[1]),w&4&&me(T,C[2])},i(C){v||De(()=>{v=Te(e,Re,{}),v.start()})},o:E,d(C){C&&I(e),$=!1,he(j)}}}function cl(n,e,t){let l;G(n,we,_=>t(8,l=_));let s=Ee(),i={email:"",password:""},r="",u=!1,d="",f="";function h(){u=!0,i.email.trim().length<1?(console.log("email empty"),t(1,r="email empty"),u=!1):t(1,r=""),i.password.trim().length<1&&(t(1,r="password empty"),u=!1),u==!0&&p()}async function p(){console.log("post started");const _=await fetch(`${l.BaseURi}/SignUp`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:i.email,password:i.password})}),x=await _.json();let k;console.log(_);let y;k=JSON.stringify(x),y=await JSON.parse(k),y.error?(console.log("error:",y.error),t(3,f=y.error),t(2,d="")):(console.log(y),t(2,d=y.usercreated),t(3,f=""),localStorage.setItem("NewUser","true"),setTimeout(function(){s("tabchange","Login")},500))}function g(){i.email=this.value,t(0,i)}function m(){i.password=this.value,t(0,i)}return[i,r,d,f,h,g,m]}class ul extends Y{constructor(e){super();V(this,e,cl,rl,X,{})}}function fl(n){let e,t,l,s,i,r,u,d,f,h;const p=n[4].default,g=qe(p,n,n[3],null);return{c(){e=c("div"),t=c("div"),l=c("div"),g&&g.c(),s=b(),i=c("div"),r=b(),u=c("div"),d=b(),f=c("div"),a(i,"class","stars -z-10 svelte-101nqgx"),a(u,"class","twinkling -z-10  svelte-101nqgx"),a(f,"class","clouds svelte-101nqgx"),a(l,"class","text-2xl sm:text-3xl md:text-4xl lg:text-5xl mx-10 "),a(t,"style",""),a(t,"class","snap-start bg-transparent flex items-center justify-center w-screen h-screen "),a(e,"class","fixed"),Je(e,"top",n[0]+"px "),Je(e,"left",n[1]+"px")},m(m,_){A(m,e,_),o(e,t),o(t,l),g&&g.m(l,null),o(l,s),o(l,i),o(l,r),o(l,u),o(l,d),o(l,f),h=!0},p(m,[_]){g&&g.p&&(!h||_&8)&&Fe(g,p,m,m[3],h?ze(p,m[3],_,null):He(m[3]),null),(!h||_&1)&&Je(e,"top",m[0]+"px "),(!h||_&2)&&Je(e,"left",m[1]+"px")},i(m){h||(L(g,m),h=!0)},o(m){F(g,m),h=!1},d(m){m&&I(e),g&&g.d(m)}}}function dl(n,e,t){let{$$slots:l={},$$scope:s}=e,{vibrate:i="off"}=e,r,u;function d(){i=="on"&&(t(0,r=Math.random()*5),t(1,u=Math.random()*3)),requestAnimationFrame(d)}return d(),n.$$set=f=>{"vibrate"in f&&t(2,i=f.vibrate),"$$scope"in f&&t(3,s=f.$$scope)},[r,u,i,s,l]}class _t extends Y{constructor(e){super();V(this,e,dl,fl,X,{vibrate:2})}}function ml(n){let e,t;return e=new ul({}),e.$on("tabchange",n[1]),{c(){Q(e.$$.fragment)},m(l,s){ee(e,l,s),t=!0},p:E,i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function pl(n){let e,t;return e=new al({}),{c(){Q(e.$$.fragment)},m(l,s){ee(e,l,s),t=!0},p:E,i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function gl(n){let e,t,l,s,i,r,u,d,f;s=new el({props:{items:n[2],activeitem:n[0]}}),s.$on("tabchange",n[1]);const h=[pl,ml],p=[];function g(m,_){return m[0]==="Login"?0:m[0]==="Join"?1:-1}return~(r=g(n))&&(u=p[r]=h[r](n)),{c(){e=c("main"),t=c("div"),t.innerHTML='<h1 class="font-serif text-center text-4xl">FATE</h1>',l=b(),Q(s.$$.fragment),i=b(),u&&u.c(),a(t,"class","flex justify-center flex-row mb-1"),a(e,"class","svelte-177t831")},m(m,_){A(m,e,_),o(e,t),o(e,l),ee(s,e,null),o(e,i),~r&&p[r].m(e,null),f=!0},p(m,_){const x={};_&1&&(x.activeitem=m[0]),s.$set(x);let k=r;r=g(m),r===k?~r&&p[r].p(m,_):(u&&(Ne(),F(p[k],1,1,()=>{p[k]=null}),Ae()),~r?(u=p[r],u?u.p(m,_):(u=p[r]=h[r](m),u.c()),L(u,1),u.m(e,null)):u=null)},i(m){f||(L(s.$$.fragment,m),L(u),d||De(()=>{d=Te(e,Re,{}),d.start()}),f=!0)},o(m){F(s.$$.fragment,m),F(u),f=!1},d(m){m&&I(e),te(s),~r&&p[r].d()}}}function hl(n){let e,t;return e=new _t({props:{$$slots:{default:[gl]},$$scope:{ctx:n}}}),{c(){Q(e.$$.fragment)},m(l,s){ee(e,l,s),t=!0},p(l,[s]){const i={};s&9&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function bl(n,e,t){function l(r){t(0,i=r.detail)}let s=["Login","Join"],i="Join";return[i,l,s]}class _l extends Y{constructor(e){super();V(this,e,bl,hl,X,{})}}const je=xe({UserID:"",Email:"",Password:"",CreatedAt:"",UpdatedAt:"",Sessions:"",Username:"",Story:"",State:"",Subject:"",Profilephotourl:""});async function vl(){const{value:n}=await pe.get({key:"SesionID"});await pe.set({key:"isLogged",value:"false"}),Ce("/auth"),wl(n),pe.remove({key:"SesionID"}),je.update(e=>({UserID:"",Email:"",Password:" ",CreatedAt:"",UpdatedAt:"",Sessions:"",Username:"",Story:"",State:"",Subject:"",Profilephotourl:""}))}async function wl(n){console.log("post started"),console.log("this uis idx",n);const e=rt(we),t=await fetch(`${e.BaseURi}/logout`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:n})});await t.json(),console.log(t,"logout func")}function yl(n){let e,t,l,s,i,r,u,d,f;const h=n[1].default,p=qe(h,n,n[0],null);return{c(){e=c("div"),t=c("div"),p&&p.c(),l=b(),s=c("div"),i=b(),r=c("div"),u=b(),d=c("div"),a(s,"class","stars -z-10 svelte-101nqgx"),a(r,"class","twinkling -z-10  svelte-101nqgx"),a(d,"class","clouds svelte-101nqgx"),a(t,"class","text-2xl sm:text-3xl md:text-4xl lg:text-5xl mx-10 "),a(e,"style",""),a(e,"class","snap-start bg-transparent flex items-center justify-center ")},m(g,m){A(g,e,m),o(e,t),p&&p.m(t,null),o(t,l),o(t,s),o(t,i),o(t,r),o(t,u),o(t,d),f=!0},p(g,[m]){p&&p.p&&(!f||m&1)&&Fe(p,h,g,g[0],f?ze(h,g[0],m,null):He(g[0]),null)},i(g){f||(L(p,g),f=!0)},o(g){F(p,g),f=!1},d(g){g&&I(e),p&&p.d(g)}}}function xl(n,e,t){let{$$slots:l={},$$scope:s}=e;return n.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,l]}class Ge extends Y{constructor(e){super();V(this,e,xl,yl,X,{})}}function vt(n){let e;return{c(){e=c("div"),e.innerHTML='<div class="absolute right-3 bg-green-50 rounded-b-full"><p class="text-2xl">\u{1F469}\u{1F3FB}\u200D\u{1F3EB}</p></div>',a(e,"class","")},m(t,l){A(t,e,l)},d(t){t&&I(e)}}}function wt(n){let e,t=n[0].Subject+"",l;return{c(){e=c("h1"),l=re(t),a(e,"class","font-mono mt-0 font-semibold mx-5")},m(s,i){A(s,e,i),o(e,l)},p(s,i){i&1&&t!==(t=s[0].Subject+"")&&me(l,t)},d(s){s&&I(e)}}}function kl(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x=n[0].Username+"",k,y,T,v,$,j,C,w=n[0].Story+"",D,U,N,O,H,R,S=n[0].State=="teacher"&&vt(),P=n[0].State=="teacher"&&wt(n);return N=new Ge({}),{c(){e=c("main"),t=c("div"),l=c("div"),l.innerHTML='<svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M32 29H4C3.73478 29 3.48043 28.8946 3.29289 28.7071C3.10536 28.5196 3 28.2652 3 28C3 27.7348 3.10536 27.4804 3.29289 27.2929C3.48043 27.1054 3.73478 27 4 27H32C32.2652 27 32.5196 27.1054 32.7071 27.2929C32.8946 27.4804 33 27.7348 33 28C33 28.2652 32.8946 28.5196 32.7071 28.7071C32.5196 28.8946 32.2652 29 32 29Z" fill="#545454"></path><path d="M32 19H4C3.73478 19 3.48043 18.8946 3.29289 18.7071C3.10536 18.5196 3 18.2652 3 18C3 17.7348 3.10536 17.4804 3.29289 17.2929C3.48043 17.1054 3.73478 17 4 17H32C32.2652 17 32.5196 17.1054 32.7071 17.2929C32.8946 17.4804 33 17.7348 33 18C33 18.2652 32.8946 18.5196 32.7071 18.7071C32.5196 18.8946 32.2652 19 32 19Z" fill="#545454"></path><path d="M32 9H4C3.73478 9 3.48043 8.89464 3.29289 8.70711C3.10536 8.51957 3 8.26522 3 8C3 7.73478 3.10536 7.48043 3.29289 7.29289C3.48043 7.10536 3.73478 7 4 7H32C32.2652 7 32.5196 7.10536 32.7071 7.29289C32.8946 7.48043 33 7.73478 33 8C33 8.26522 32.8946 8.51957 32.7071 8.70711C32.5196 8.89464 32.2652 9 32 9Z" fill="#545454"></path></svg>',s=b(),i=c("div"),r=c("div"),u=c("div"),d=c("div"),f=c("img"),p=b(),S&&S.c(),g=b(),m=c("div"),_=c("h1"),k=re(x),y=b(),P&&P.c(),T=b(),v=c("button"),v.textContent="edit",$=b(),j=c("div"),C=c("p"),D=re(w),U=b(),Q(N.$$.fragment),a(t,"class","header flex flex-row sticky mt-0 justify-end text-center"),a(f,"alt","."),ie(f.src,h=n[0].Profilephotourl)||a(f,"src",h),a(d,"class","mb-0 w-24 default group-hover:mx-auto h-24 mask mask-circle svelte-z8jfwn"),a(u,"class","avatar "),a(_,"class","font-mono text-xl font-bold mx-5"),a(v,"class","btn btn-sm btn-outline w-20 mt-3 mx-4"),a(m,"class","flex flex-col mx-0"),a(r,"class","namecard flex flex-row mx-2"),a(C,"class","flex justify-start mx-4 mt-3 font-mono font-thin"),a(j,"class","bordered w-96"),a(i,"class","flex flex-col"),a(e,"class","mt-1 mx-3 flex flex-col")},m(B,M){A(B,e,M),o(e,t),o(t,l),o(e,s),o(e,i),o(i,r),o(r,u),o(u,d),o(d,f),o(u,p),S&&S.m(u,null),o(r,g),o(r,m),o(m,_),o(_,k),o(m,y),P&&P.m(m,null),o(m,T),o(m,v),o(i,$),o(i,j),o(j,C),o(C,D),o(e,U),ee(N,e,null),O=!0,H||(R=[J(l,"click",n[1]),J(v,"click",n[2])],H=!0)},p(B,[M]){(!O||M&1&&!ie(f.src,h=B[0].Profilephotourl))&&a(f,"src",h),B[0].State=="teacher"?S||(S=vt(),S.c(),S.m(u,null)):S&&(S.d(1),S=null),(!O||M&1)&&x!==(x=B[0].Username+"")&&me(k,x),B[0].State=="teacher"?P?P.p(B,M):(P=wt(B),P.c(),P.m(m,T)):P&&(P.d(1),P=null),(!O||M&1)&&w!==(w=B[0].Story+"")&&me(D,w)},i(B){O||(L(N.$$.fragment,B),O=!0)},o(B){F(N.$$.fragment,B),O=!1},d(B){B&&I(e),S&&S.d(),P&&P.d(),te(N),H=!1,he(R)}}}function Sl(n,e,t){let l,s;G(n,je,g=>t(0,l=g)),G(n,we,g=>t(7,s=g));let i,r,u,d=[];ve(async()=>{const{value:g}=await pe.get({key:"SesionID"});console.log(g,"ses"),i=g,f()});async function f(){console.log("post started");const m=await(await fetch(`${s.BaseURi}/getmydata`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:i})})).json();let _;_=JSON.stringify(m),r=await JSON.parse(_),r.error?(await pe.set({key:"isLogged",value:"false"}),Ce("/auth")):(u=await r.userdata,je.update(y=>({UserID:u.id,Email:u.email,Password:"",CreatedAt:u.createdAt,UpdatedAt:u.updatedAt,Sessions:u.sessions,Username:u.username,Story:u.story,State:u.state,Subject:u.subject,Profilephotourl:u.profilephotourl})));let x="",k="";l.Sessions.forEach((y,T)=>{let v=y.uuid;try{x=JSON.parse(y.location),k=JSON.parse(y.device)}catch{console.log(console.error())}let $={index:T,uuid:v,location:x,device:k};d.push($)}),d=await d}return[l,()=>{Se("/versionupdate")},()=>{Se("/newuser")}]}class yt extends Y{constructor(e){super();V(this,e,Sl,kl,X,{})}}function $l(n){let e,t,l,s,i,r,u,d;return{c(){e=c("main"),t=c("h1"),t.textContent="FATE",l=b(),s=c("p"),s.textContent="Let the universe find the one for you",i=b(),r=c("button"),r.innerHTML='<h1 class="font-mono font-light text-2xl ">Join</h1>',a(t,"class","text-gray-300 font-serif text-5xl "),a(s,"class","mt-10 text-gray-300 font-mono text-3xl font-extralightin"),a(r,"class","btn btn-outline mt-16 mb-10")},m(f,h){A(f,e,h),o(e,t),o(e,l),o(e,s),o(e,i),o(e,r),u||(d=J(r,"click",n[1]),u=!0)},p:E,d(f){f&&I(e),u=!1,d()}}}function jl(n){let e,t,l;return t=new _t({props:{vibrate:n[0],$$slots:{default:[$l]},$$scope:{ctx:n}}}),{c(){e=c("div"),Q(t.$$.fragment)},m(s,i){A(s,e,i),ee(t,e,null),l=!0},p(s,[i]){const r={};i&1&&(r.vibrate=s[0]),i&64&&(r.$$scope={dirty:i,ctx:s}),t.$set(r)},i(s){l||(L(t.$$.fragment,s),l=!0)},o(s){F(t.$$.fragment,s),l=!1},d(s){s&&I(e),te(t)}}}function Cl(n,e,t){ct(async()=>{s=!1});let l="off",s=!1;function i(){t(0,l="on"),setTimeout(function(){t(0,l="off"),Ce("/auth")},1e3)}return[l,i]}class Ul extends Y{constructor(e){super();V(this,e,Cl,jl,X,{})}}function Ol(n){let e;return{c(){e=c("main"),e.innerHTML='<div class="loader svelte-pgx7ai"></div>'},m(t,l){A(t,e,l)},p:E,i:E,o:E,d(t){t&&I(e)}}}class Qe extends Y{constructor(e){super();V(this,e,null,Ol,X,{})}}function Dl(n){let e,t,l;return{c(){e=c("button"),e.textContent="\u{1F448}\u{1F3FC}",a(e,"class","backbutton btn btn-square btn-outline text-2xl fixed font-mono text-gray-400")},m(s,i){A(s,e,i),t||(l=J(e,"click",n[14]),t=!0)},p:E,i:E,o:E,d(s){s&&I(e),t=!1,l()}}}function Pl(n){let e,t,l,s;return l=new Qe({}),{c(){e=c("div"),t=c("div"),Q(l.$$.fragment),a(e,"class","absolute")},m(i,r){A(i,e,r),o(e,t),ee(l,t,null),s=!0},p:E,i(i){s||(L(l.$$.fragment,i),s=!0)},o(i){F(l.$$.fragment,i),s=!1},d(i){i&&I(e),te(l)}}}function xt(n){let e,t;return{c(){e=c("div"),t=re(n[6]),a(e,"class","font-bold text-red-500 mt-5 mx-auto")},m(l,s){A(l,e,s),o(e,t)},p(l,s){s[0]&64&&me(t,l[6])},d(l){l&&I(e)}}}function kt(n){let e,t,l,s,i,r,u,d,f,h;return{c(){e=c("div"),t=c("p"),t.textContent="woah make sure you push those change",l=b(),s=c("div"),i=c("button"),i.textContent="shove",r=b(),u=c("button"),u.textContent="push",a(t,"class","font-bold text-xl"),a(i,"class","btn mx-auto mt-3 btn-sm btn-outline "),a(u,"class","btn mx-auto mt-3 btn-sm btn-success "),a(s,"class","flex flex-row"),a(e,"class","text-center bottom-44 flex flex-col justify-center mt-3 rounded-box bg-red-50 px-3 py-3")},m(p,g){A(p,e,g),o(e,t),o(e,l),o(e,s),o(s,i),o(s,r),o(s,u),f||(h=[J(i,"click",n[15]),J(u,"click",n[16])],f=!0)},p:E,i(p){p&&(d||De(()=>{d=Te(e,qt,{}),d.start()}))},o:E,d(p){p&&I(e),f=!1,he(h)}}}function St(n){let e,t,l,s,i,r;return{c(){e=c("input"),a(e,"type","text"),a(e,"placeholder","what you teach"),a(e,"class","mt-4 input input-bordered ")},m(u,d){A(u,e,d),W(e,n[3]),s=!0,i||(r=J(e,"input",n[19]),i=!0)},p(u,d){d[0]&8&&e.value!==u[3]&&W(e,u[3])},i(u){s||(u&&De(()=>{l&&l.end(1),t=Te(e,Re,{}),t.start()}),s=!0)},o(u){t&&t.invalidate(),u&&(l=Et(e,Ft,{})),s=!1},d(u){u&&I(e),u&&l&&l.end(),i=!1,r()}}}function Tl(n){let e;return{c(){e=re("push")},m(t,l){A(t,e,l)},d(t){t&&I(e)}}}function Nl(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x,k,y,T,v,$,j,C,w,D,U,N,O,H,R,S,P,B,M,Z,q,se;const ge=[Pl,Dl],ce=[];function Ue(z,ue){return z[5]?0:1}l=Ue(n),s=ce[l]=ge[l](n);let ne=!n[4]&&xt(n),ae=n[9]&&kt(n),K=n[0]&&St(n);return M=new sl({props:{$$slots:{default:[Tl]},$$scope:{ctx:n}}}),{c(){e=c("main"),t=c("div"),s.c(),i=b(),r=c("h1"),r.textContent="Edit Deets",u=b(),d=c("div"),f=c("div"),h=c("img"),g=b(),m=c("button"),m.textContent="change photo",_=b(),ne&&ne.c(),x=b(),ae&&ae.c(),k=b(),y=c("div"),T=c("form"),v=c("div"),$=c("div"),j=c("h1"),j.textContent="Learner",C=b(),w=c("input"),D=b(),U=c("h1"),U.textContent="Teacher",N=b(),O=c("input"),H=b(),K&&K.c(),R=b(),S=c("textarea"),P=b(),B=c("div"),Q(M.$$.fragment),a(r,"class","text-2xl font-mono self-center"),a(t,"class","mt-15 form-control h-auto flex flex-wrap flex-col "),a(h,"alt","."),ie(h.src,p=n[7])||a(h,"src",p),a(f,"class","mt-10 mb-2 w-24 mx-auto h-24 default mask mask-circle svelte-151gicb"),a(d,"class","avatar"),a(m,"class","btn btn-sm btn-outline w-50 mx-auto "),a(j,"class","mx-2 font-mono text-2xl"),a(w,"type","checkbox"),a(w,"class","toggle bg-green-300"),a(U,"class","mx-2 font-mono text-2xl"),a($,"class","mx-auto flex flex-row content-center "),a(O,"type","text"),a(O,"placeholder","username"),a(O,"class","input input-bordered mt-5"),a(S,"class","mt-4 textarea textarea-bordered h-24 textarea-ghost "),a(S,"placeholder","Your Story"),a(B,"class","mt-10 mx-auto"),a(v,"class","form-control"),a(T,"action",""),a(y,"class","p-10 card "),a(e,"class","editpage mt-14 flex flex-col content-center svelte-151gicb")},m(z,ue){A(z,e,ue),o(e,t),ce[l].m(t,null),o(t,i),o(t,r),o(e,u),o(e,d),o(d,f),o(f,h),o(e,g),o(e,m),o(e,_),ne&&ne.m(e,null),o(e,x),ae&&ae.m(e,null),o(e,k),o(e,y),o(y,T),o(T,v),o(v,$),o($,j),o($,C),o($,w),w.checked=n[0],o($,D),o($,U),o(v,N),o(v,O),W(O,n[1]),o(v,H),K&&K.m(v,null),o(v,R),o(v,S),W(S,n[2]),o(v,P),o(v,B),ee(M,B,null),Z=!0,q||(se=[J(m,"click",n[10]),J(w,"change",n[17]),J(O,"input",n[18]),J(S,"input",n[20]),J(T,"submit",Le(n[11]))],q=!0)},p(z,ue){let be=l;l=Ue(z),l===be?ce[l].p(z,ue):(Ne(),F(ce[be],1,1,()=>{ce[be]=null}),Ae(),s=ce[l],s?s.p(z,ue):(s=ce[l]=ge[l](z),s.c()),L(s,1),s.m(t,i)),(!Z||ue[0]&128&&!ie(h.src,p=z[7]))&&a(h,"src",p),z[4]?ne&&(ne.d(1),ne=null):ne?ne.p(z,ue):(ne=xt(z),ne.c(),ne.m(e,x)),z[9]?ae?(ae.p(z,ue),ue[0]&512&&L(ae,1)):(ae=kt(z),ae.c(),L(ae,1),ae.m(e,k)):ae&&(ae.d(1),ae=null),ue[0]&1&&(w.checked=z[0]),ue[0]&2&&O.value!==z[1]&&W(O,z[1]),z[0]?K?(K.p(z,ue),ue[0]&1&&L(K,1)):(K=St(z),K.c(),L(K,1),K.m(v,R)):K&&(Ne(),F(K,1,1,()=>{K=null}),Ae()),ue[0]&4&&W(S,z[2]);const ke={};ue[1]&1&&(ke.$$scope={dirty:ue,ctx:z}),M.$set(ke)},i(z){Z||(L(s),L(ae),L(K),L(M.$$.fragment,z),Z=!0)},o(z){F(s),F(K),F(M.$$.fragment,z),Z=!1},d(z){z&&I(e),ce[l].d(),ne&&ne.d(),ae&&ae.d(),K&&K.d(),te(M),q=!1,he(se)}}}function Al(n,e,t){let l,s,i;G(n,we,S=>t(24,l=S)),G(n,je,S=>t(13,s=S)),G(n,Pe,S=>t(25,i=S)),ve(async()=>{r=s.Username});let r,u=!1,d,f,h=!1,p=!0,g="",m=s.Profilephotourl,_=!1,x=!1;s.State=="teacher"?p=!0:p=!1;async function k(){if(d=await Ze.getPhoto({quality:50,allowEditing:!0,resultType:Ke.Base64,source:We.Photos,height:500,width:500,preserveAspectRatio:!1}),d)return d;console.log("image picker failed")}async function y(){const S=await k();t(5,h=!0);let P=new FormData,B=`${l.CdnURi}/uploadprofilepicture`;const M=new Blob([new Uint8Array(Xe(S.base64String))],{type:`image/${S.format}`});P.append("attachment",M,`${s.Username}`),console.log(s.UserID),P.append("uuid",JSON.stringify(i.SessionID));const q=await(await fetch(B,{method:"POST",body:P})).json();let se=JSON.stringify(q),ge=await JSON.parse(se);console.log(ge.msg,"FROM OBJ"),ge.msg=="success"&&(t(5,h=!1),t(7,m=await ge.profilephotourl))}let T=s.Username,v=s.Story,$=s.Subject;async function j(){u?C():t(6,g="Invalid name sorry ")}async function C(){t(5,h=!0);const{value:S}=await pe.get({key:"SesionID"}),B=await(await fetch(`${l.BaseURi}/updatedata`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:S,username:T,story:v,subject:$,state:f})})).json();B.error=="usernnametaken"?(console.log(B.error),t(6,g=B.error),t(6,g="sorry username is taken \u{1F62C}"),t(4,u=!1),console.log(g,"err prom"),console.log("choose different one pls"),t(5,h=!1)):setTimeout(function(){t(5,h=!1),ye()},500)}const w=()=>{_?t(9,x=!0):ye()},D=()=>{ye()},U=()=>{j()};function N(){p=this.checked,t(0,p)}function O(){T=this.value,t(1,T)}function H(){$=this.value,t(3,$)}function R(){v=this.value,t(2,v)}return n.$$.update=()=>{n.$$.dirty[0]&2&&(T.length<1?(t(4,u=!1),console.log("empty"),t(6,g="user name is empty \u{1F643}")):(console.log("user name ",T),t(4,u=!0))),n.$$.dirty[0]&8194&&T!=s.Username&&t(8,_=!0),n.$$.dirty[0]&4097&&(p?(t(12,f="teacher"),console.log(f)):(t(12,f="learner"),console.log(f))),n.$$.dirty[0]&12288&&f!=s.State&&t(8,_=!0),n.$$.dirty[0]&8196&&v!=s.Story&&t(8,_=!0),n.$$.dirty[0]&8200&&$!=s.Subject&&t(8,_=!0)},[p,T,v,$,u,h,g,m,_,x,y,j,f,s,w,D,U,N,O,H,R]}class Il extends Y{constructor(e){super();V(this,e,Al,Nl,X,{},null,[-1,-1])}}var Jl="/assets/popnav.a1cb91bf.mp3";function Ll(n){let e,t,l,s,i,r,u,d,f;return s=new Ht({props:{width:"36",height:"36",icon:"gis:compass-needle",color:"#ccc"}}),{c(){e=c("main"),t=c("div"),l=c("div"),Q(s.$$.fragment),i=b(),r=c("div"),r.innerHTML='<img class="object-cover h-8 w-8 rounded-xl" alt="" src="https://picsum.photos/200/300"/>',a(l,"id","explore"),a(r,"id","account"),a(t,"class","w-full py-5 fixed bottom-0 bg-black flex flex-row justify-evenly items-center md:gap-0 lg:gap-0"),a(e,"class","flex justify-center bg-transparent ")},m(h,p){A(h,e,p),o(e,t),o(t,l),ee(s,l,null),o(t,i),o(t,r),u=!0,d||(f=[J(l,"click",n[4]),J(r,"click",n[5])],d=!0)},p:E,i(h){u||(L(s.$$.fragment,h),u=!0)},o(h){F(s.$$.fragment,h),u=!1},d(h){h&&I(e),te(s),d=!1,he(f)}}}function Rl(n,e,t){let l=new Audio(Jl),s=Ee(),i=!0,r="";return[i,r,l,s,()=>{i&&(l.play(),t(0,i=!1)),console.log("discover"),t(1,r="discover"),s("tabchange","discover")},()=>{i&&(l.play(),t(0,i=!1)),console.log("account"),t(1,r="account"),s("tabchange","account")}]}class Ml extends Y{constructor(e){super();V(this,e,Rl,Ll,X,{})}}const et=xe({ownPosts:[]}),tt=xe({brief:"",comments:"",id:"",interactions:0,mediaurl:"",subject:"",time:"",type:"",username:"",uuid:"",index:""});function $t(n,e,t){const l=n.slice();return l[8]=e[t],l[10]=t,l}function Bl(n){let e;return{c(){e=c("div"),e.innerHTML='<h1 class="mx-5">\u{1F603}</h1>',a(e,"class","w-full")},m(t,l){A(t,e,l)},p:E,d(t){t&&I(e)}}}function El(n){let e,t=n[2].ownPosts,l=[];for(let s=0;s<t.length;s+=1)l[s]=jt($t(n,t,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=zt()},m(s,i){for(let r=0;r<l.length;r+=1)l[r].m(s,i);A(s,e,i)},p(s,i){if(i&12){t=s[2].ownPosts;let r;for(r=0;r<t.length;r+=1){const u=$t(s,t,r);l[r]?l[r].p(u,i):(l[r]=jt(u),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(s){it(l,s),s&&I(e)}}}function jt(n){let e,t,l,s,i,r,u,d,f=n[8].subject+"",h,p,g,m;function _(){return n[4](n[10])}return{c(){e=c("div"),t=c("div"),l=c("div"),s=c("div"),i=c("img"),u=b(),d=c("h1"),h=re(f),p=b(),a(i,"alt","post img"),ie(i.src,r=n[8].mediaurl)||a(i,"src",r),a(i,"class","svelte-7mfe61"),a(s,"class","mb-2 roundtop w-full h-28 "),a(l,"class","avatar relative bottom-2"),a(d,"class","font-semibold mx-2 text-sm text-gray-600 "),a(t,"class","flex flex-col h-44 shadow-sm "),a(e,"class","text-black flex mt-5 mx-auto mb-5 flex-col rounded-lg w-44 lg:w-72 bg-gray-50")},m(x,k){A(x,e,k),o(e,t),o(t,l),o(l,s),o(s,i),o(t,u),o(t,d),o(d,h),o(e,p),g||(m=J(e,"click",_),g=!0)},p(x,k){n=x,k&4&&!ie(i.src,r=n[8].mediaurl)&&a(i,"src",r),k&4&&f!==(f=n[8].subject+"")&&me(h,f)},d(x){x&&I(e),g=!1,m()}}}function Ct(n){let e;return{c(){e=c("div"),e.textContent="\u{1F977}\u{1F3FB}",a(e,"class","h-24 mx-auto")},m(t,l){A(t,e,l)},d(t){t&&I(e)}}}function ql(n){let e,t,l,s;function i(f,h){return f[0]?El:Bl}let r=i(n),u=r(n),d=n[1]&&Ct();return{c(){e=c("main"),t=c("div"),l=c("div"),u.c(),s=b(),d&&d.c(),a(l,"class","grid grid-cols-2 lg:grid-cols-4"),a(t,"class","flex flex-col justify-center container")},m(f,h){A(f,e,h),o(e,t),o(t,l),u.m(l,null),o(t,s),d&&d.m(t,null)},p(f,[h]){r===(r=i(f))&&u?u.p(f,h):(u.d(1),u=r(f),u&&(u.c(),u.m(l,null))),f[1]?d||(d=Ct(),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i:E,o:E,d(f){f&&I(e),u.d(),d&&d.d()}}}function Fl(n,e,t){let l,s,i;G(n,et,p=>t(2,l=p)),G(n,we,p=>t(5,s=p)),G(n,tt,p=>t(6,i=p));let r=!1,u=!1;ve(async()=>{console.log("mount"),f()});function d(p){Me(tt,i.index=p,i),console.log(i.index),Se("/openpost")}async function f(){console.log("getting my posts /......");const{value:p}=await pe.get({key:"SesionID"}),m=await(await fetch(`${s.BaseURi}/getmyposts`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:p})})).json();m.posts.length>2&&t(1,u=!0),Me(et,l.ownPosts=await m.posts,l),m.posts==null?console.log("its null"):t(0,r=!0)}return[r,u,l,d,p=>{d(p)}]}class Hl extends Y{constructor(e){super();V(this,e,Fl,ql,X,{})}}function zl(n){let e,t,l,s,i,r,u;return t=new yt({}),r=new Hl({}),{c(){e=c("main"),Q(t.$$.fragment),l=b(),s=c("div"),s.innerHTML='<div class="py-1 px-3 rounded-md bordered border-2"><h1>posts</h1></div>',i=b(),Q(r.$$.fragment),a(s,"class","flex mt-11 py-2 flex-row justify-evenly text-center bordered border-1 rounded-lg border-gray-300 w-full "),a(e,"class","mt-10 flex flex-col")},m(d,f){A(d,e,f),ee(t,e,null),o(e,l),o(e,s),o(e,i),ee(r,e,null),u=!0},p:E,i(d){u||(L(t.$$.fragment,d),L(r.$$.fragment,d),u=!0)},o(d){F(t.$$.fragment,d),F(r.$$.fragment,d),u=!1},d(d){d&&I(e),te(t),te(r)}}}function Gl(n){return ve(async()=>{localStorage.setItem("activetab","account")}),[]}class Yl extends Y{constructor(e){super();V(this,e,Gl,zl,X,{})}}function Vl(n){let e;return{c(){e=c("div"),e.innerHTML=`<img class="object-cover h-96 w-full" src="https://picsum.photos/2000/4000" alt="prop"/> 


 


   <h1 class="name text-xl my-2 text-center">Mac aston</h1> 

  <div class="flex flex-row justify-center mt-3"><div class="text-xl bordered border-2 py-2 px-3 rounded-md ">\u{1F525}</div> 


    <div class="info flex flex-col justify-center items-center"><h1 class="text-gray-600 text-center px-5">Compatibility</h1> 

    <h1 class="text-green-500 text-xl">98%</h1></div> 




    <div class="text-xl bordered border-2 py-2 px-3 rounded-md ">\u274C</div></div>`,a(e,"id","drag-1"),a(e,"class","draggable fixed shadow-md bordered border-1 border-black font-mono flex flex-col justify-center svelte-l66anu")},m(t,l){A(t,e,l)},p:E,i:E,o:E,d(t){t&&I(e)}}}function Xl(n){Math.sqrt(Math.pow(n.pageX-n.x0,2)+Math.pow(n.pageY-n.y0,2)|0);var e=n.target.querySelector("p");e&&(e.textContent="moved a distance of "+Math.sqrt(Math.pow(n.pageX-n.x0,2)+Math.pow(n.pageY-n.y0,2)|0).toFixed(2)+"px");var t=n.target,l=(parseFloat(t.getAttribute("data-x"))||0)+n.dx,s=(parseFloat(t.getAttribute("data-y"))||0)+n.dy;t.style.transform="translate("+l+"px, "+s+"px)",t.setAttribute("data-x",l),t.setAttribute("data-y",s)}function Zl(n){return ut(".draggable").draggable({inertia:!0,modifiers:[ut.modifiers.restrictEdges({enabled:!0,endOnly:!1})],autoScroll:!1,listeners:{move:Xl,end(e){var t=e.target.querySelector("p");t&&(t.textContent="moved a distance of "+Math.sqrt(Math.pow(e.pageX-e.x0,2)+Math.pow(e.pageY-e.y0,2)|0).toFixed(2)+"px")}}}),[]}class Be extends Y{constructor(e){super();V(this,e,Zl,Vl,X,{})}}function Kl(n){let e,t,l,s,i,r,u,d,f,h,p,g;return l=new Be({}),i=new Be({}),u=new Be({}),f=new Be({}),p=new Ge({}),{c(){e=c("main"),t=c("div"),Q(l.$$.fragment),s=b(),Q(i.$$.fragment),r=b(),Q(u.$$.fragment),d=b(),Q(f.$$.fragment),h=b(),Q(p.$$.fragment),a(t,"class","mt-24 flex justify-center"),a(e,"class","flex justify-center")},m(m,_){A(m,e,_),o(e,t),ee(l,t,null),o(t,s),ee(i,t,null),o(t,r),ee(u,t,null),o(t,d),ee(f,t,null),o(t,h),ee(p,t,null),g=!0},p:E,i(m){g||(L(l.$$.fragment,m),L(i.$$.fragment,m),L(u.$$.fragment,m),L(f.$$.fragment,m),L(p.$$.fragment,m),g=!0)},o(m){F(l.$$.fragment,m),F(i.$$.fragment,m),F(u.$$.fragment,m),F(f.$$.fragment,m),F(p.$$.fragment,m),g=!1},d(m){m&&I(e),te(l),te(i),te(u),te(f),te(p)}}}function Wl(n){return ve(async()=>{localStorage.setItem("activetab","discover")}),[]}class Ql extends Y{constructor(e){super();V(this,e,Wl,Kl,X,{})}}const Ut=xe({users:[]}),Ye=xe({id:"",username:"",joined:"",profilpiclink:"",state:"",subject:"",story:"",index:""});function Ot(n){let e,t,l;return{c(){e=c("button"),e.textContent="air \u{1F4A8}",a(e,"class","btn btn-outline mt-20 mx-auto w-32")},m(s,i){A(s,e,i),t||(l=J(e,"click",n[3]),t=!0)},p:E,d(s){s&&I(e),t=!1,l()}}}function Dt(n){let e,t,l;return{c(){e=c("button"),e.textContent="Go  Air \u{1F4A8}",a(e,"class","btn btn-outline mt-20 mx-auto w-32")},m(s,i){A(s,e,i),t||(l=J(e,"click",n[4]),t=!0)},p:E,d(s){s&&I(e),t=!1,l()}}}function es(n){let e,t,l,s,i,r,u,d,f=n[0].State=="learner"&&Ot(n),h=n[0].State=="teacher"&&Dt(n);return{c(){e=c("main"),t=c("button"),t.textContent="Inbox \u{1F4E5}",l=b(),s=c("button"),s.textContent="Post \u{1F4F8}",i=b(),f&&f.c(),r=b(),h&&h.c(),a(t,"class","btn btn-outline mt-20 mx-auto w-32"),a(s,"class","btn btn-outline mt-20 mx-auto w-32"),a(e,"class","flex flex-col sm:flex-col justify-evenly items-start font-mono")},m(p,g){A(p,e,g),o(e,t),o(e,l),o(e,s),o(e,i),f&&f.m(e,null),o(e,r),h&&h.m(e,null),u||(d=[J(t,"click",n[1]),J(s,"click",n[2])],u=!0)},p(p,[g]){p[0].State=="learner"?f?f.p(p,g):(f=Ot(p),f.c(),f.m(e,r)):f&&(f.d(1),f=null),p[0].State=="teacher"?h?h.p(p,g):(h=Dt(p),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:E,o:E,d(p){p&&I(e),f&&f.d(),h&&h.d(),u=!1,he(d)}}}function ts(n,e,t){let l;return G(n,je,d=>t(0,l=d)),ve(async()=>{localStorage.setItem("activetab","post")}),[l,()=>{Se("/inbox")},()=>{Se("/addpost")},()=>{Se("/viewair")},()=>{Se("/goair")}]}class Pt extends Y{constructor(e){super();V(this,e,ts,es,X,{})}}let Tt,lt,Nt;async function ls(){const{value:n}=await pe.get({key:"SesionID"});Tt=n,console.log("fetching ");const e=rt(we),l=await(await fetch(`${e.BaseURi}/getmydata`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:Tt})})).json();let s;return s=JSON.stringify(l),lt=await JSON.parse(s),lt.error?(await pe.set({key:"isLogged",value:"false"}),Ce("/auth")):(Nt=await lt.userdata,console.log("end"),Pe.update(i=>({SessionID:n,Email:"",Autenticated:!0,Location:"",Device:""}))),Nt}const st=xe({ID:"",Event:"nothing",SenderUsername:"",TargetUsername:"",Body:"",Profilephotourl:""}),ss=xe({status:!1,name:""});function ns(n){let e,t;return e=new Pt({}),{c(){Q(e.$$.fragment)},m(l,s){ee(e,l,s),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function os(n){let e,t;return e=new Yl({}),{c(){Q(e.$$.fragment)},m(l,s){ee(e,l,s),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function is(n){let e,t;return e=new Ql({}),{c(){Q(e.$$.fragment)},m(l,s){ee(e,l,s),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){F(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function as(n){let e,t,l,s,i,r,u,d,f;const h=[is,os,ns],p=[];function g(m,_){return m[0]==="discover"?0:m[0]==="account"?1:m[0]==="post"?2:-1}return~(t=g(n))&&(l=p[t]=h[t](n)),r=new Ml({}),r.$on("tabchange",n[1]),{c(){e=c("main"),l&&l.c(),s=b(),i=c("div"),Q(r.$$.fragment),a(e,"class","mx-auto flex flex-col content-center")},m(m,_){A(m,e,_),~t&&p[t].m(e,null),o(e,s),o(e,i),ee(r,i,null),u=!0,d||(f=J(e,"click",n[2]),d=!0)},p(m,[_]){let x=t;t=g(m),t!==x&&(l&&(Ne(),F(p[x],1,1,()=>{p[x]=null}),Ae()),~t?(l=p[t],l||(l=p[t]=h[t](m),l.c()),L(l,1),l.m(e,s)):l=null)},i(m){u||(L(l),L(r.$$.fragment,m),u=!0)},o(m){F(l),F(r.$$.fragment,m),u=!1},d(m){m&&I(e),~t&&p[t].d(),te(r),d=!1,f()}}}function rs(n,e,t){let l=localStorage.getItem("activetab"),s=l;l||(s="discover"),ve(async()=>{});function i(u){t(0,s=u.detail)}return[s,i,()=>{Gt.hide}]}class At extends Y{constructor(e){super();V(this,e,rs,as,X,{})}}function cs(n){let e,t,l,s,i,r,u,d,f;const h=n[1].default,p=qe(h,n,n[0],null);return{c(){e=c("button"),t=c("span"),l=b(),s=c("span"),i=b(),r=c("span"),p&&p.c(),a(t,"class","shadow svelte-13h1jhl"),a(s,"class","edge svelte-13h1jhl"),a(r,"class","front text-black svelte-13h1jhl"),a(e,"class","pushable  svelte-13h1jhl")},m(g,m){A(g,e,m),o(e,t),o(e,l),o(e,s),o(e,i),o(e,r),p&&p.m(r,null),u=!0,d||(f=J(e,"click",n[2]),d=!0)},p(g,[m]){p&&p.p&&(!u||m&1)&&Fe(p,h,g,g[0],u?ze(h,g[0],m,null):He(g[0]),null)},i(g){u||(L(p,g),u=!0)},o(g){F(p,g),u=!1},d(g){g&&I(e),p&&p.d(g),d=!1,f()}}}function us(n,e,t){let{$$slots:l={},$$scope:s}=e;function i(r){at.call(this,n,r)}return n.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,l,i]}class fs extends Y{constructor(e){super();V(this,e,us,cs,X,{})}}function ds(n){let e;return{c(){e=re("Update")},m(t,l){A(t,e,l)},d(t){t&&I(e)}}}function ms(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x,k,y,T,v,$,j,C,w,D,U,N;return y=new fs({props:{$$slots:{default:[ds]},$$scope:{ctx:n}}}),y.$on("click",n[1]),{c(){e=c("main"),t=c("div"),l=c("button"),l.textContent="\u{1F448}\u{1F3FC}",s=b(),i=c("div"),r=c("div"),u=re(`$

            `),d=c("h2"),d.textContent=`pull the latest version of the app over the air  and load it   
                for iOS \u{1F4F1} and android \u{1F916} users only`,f=b(),h=c("h2"),h.textContent=`Current build :  ${n[0]}`,p=b(),g=c("p"),g.textContent="made with \u{1F49A} by discist team \u{1F91F}\u{1F3FB}",m=b(),_=c("p"),_.textContent="-sky \u{1F329}",x=b(),k=c("div"),Q(y.$$.fragment),T=b(),v=c("button"),v.textContent="Logout \u270C\u{1F3FB}",$=b(),j=c("h1"),j.textContent=`${ps}`,C=b(),w=c("h1"),w.textContent=`${hs}`,a(l,"class","btn btn-square btn-outline text-2xl"),a(t,"class","backbutton mx-2 mt-10"),a(d,"class","mb-10 "),a(h,"class","mb-10 text-red-300 "),a(g,"class","text-purple-600"),a(_,"class","text-blue-300"),a(k,"class","mt-28 mx-auto"),a(v,"class","btn btn-ghost text-red-400 "),a(j,"class","mt-10 text-center text-green-400 text-2xl"),a(w,"class","mt-1 text-center text-yellow-400 text-xs"),a(i,"class","mx-7 flex flex-col mt-28"),a(e,"class","flex flex-col justify-center")},m(O,H){A(O,e,H),o(e,t),o(t,l),o(e,s),o(e,i),o(i,r),o(r,u),o(r,d),o(r,f),o(r,h),o(r,p),o(r,g),o(r,m),o(r,_),o(i,x),o(i,k),ee(y,k,null),o(i,T),o(i,v),o(i,$),o(i,j),o(i,C),o(i,w),D=!0,U||(N=[J(l,"click",ye),J(v,"click",vl)],U=!0)},p(O,[H]){const R={};H&4&&(R.$$scope={dirty:H,ctx:O}),y.$set(R)},i(O){D||(L(y.$$.fragment,O),D=!0)},o(O){F(y.$$.fragment,O),D=!1},d(O){O&&I(e),te(y),U=!1,he(N)}}}let ps="v.00.06",gs="production build",hs="Alpha Launch Build";function bs(n){return[gs,async()=>{console.log("stating download");const l=await ft.download({url:"https://discist.com/dist.zip"});dt.show(),await ft.set(l),console.log(l),dt.hide()}]}class _s extends Y{constructor(e){super();V(this,e,bs,ms,X,{})}}function It(n){let e,t,l,s;return l=new Qe({}),{c(){e=c("div"),t=c("div"),Q(l.$$.fragment),a(e,"class","absolute")},m(i,r){A(i,e,r),o(e,t),ee(l,t,null),s=!0},i(i){s||(L(l.$$.fragment,i),s=!0)},o(i){F(l.$$.fragment,i),s=!1},d(i){i&&I(e),te(l)}}}function vs(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x,k,y,T,v,$,j,C,w,D,U,N,O,H,R,S,P,B,M,Z,q,se,ge,ce,Ue,ne,ae,K,z,ue,be,ke,Oe,fe=n[0]&&It(),Ie=ws;return z=new Ge({}),{c(){e=c("h1"),e.textContent="FATE",t=b(),l=c("div"),s=c("main"),i=c("div"),fe&&fe.c(),r=b(),u=c("div"),d=c("form"),f=c("div"),h=c("div"),p=b(),g=b(),m=c("h1"),m.textContent="Name",_=b(),x=c("input"),k=b(),y=c("h1"),y.textContent="Place of birth",T=b(),v=c("input"),$=b(),j=c("h1"),j.textContent="Gender",C=b(),w=c("select"),D=c("option"),D.textContent="Gender",U=c("option"),U.textContent="Male ",N=c("option"),N.textContent="Female",O=c("option"),O.textContent="Nonbinary",H=b(),R=c("div"),S=c("div"),P=c("h1"),P.textContent="Date of birth",B=b(),M=c("input"),Z=b(),q=c("div"),se=c("p"),se.textContent="Time of Birth",ge=b(),ce=c("input"),Ue=b(),ne=c("button"),ne.textContent="Push",ae=b(),K=b(),Q(z.$$.fragment),a(e,"class","font-serif text-3xl flex justify-center mt-16"),a(i,"class","mt-15 form-control h-auto flex flex-wrap flex-col "),a(h,"class","flex flex-row content-center "),a(m,"class","my-3"),a(x,"type","text"),a(x,"placeholder","Name"),a(x,"class","input input-bordered w-full max-w-xs mb-3"),a(y,"class","my-3"),a(v,"type","text"),a(v,"placeholder","Place of Birth"),a(v,"class","input input-bordered w-full max-w-xs mb-5"),a(j,"class","my-3"),D.disabled=!0,D.selected=!0,D.__value="Gender",D.value=D.__value,U.__value="male",U.value=U.__value,N.__value="female",N.value=N.__value,O.__value="Nonbinary",O.value=O.__value,a(w,"class","select select-bordered w-full max-w-xs mb-5"),n[1].gender===void 0&&De(()=>n[7].call(w)),a(P,"class","my-3 text-2xs"),a(M,"type","date"),a(M,"placeholder","Date of Birth"),a(M,"class","input input-bordered w-full max-w-xs mb-5"),a(S,"class","flex flex-col"),a(se,"class","my-3 text-2xs "),a(ce,"type","time"),a(ce,"placeholder","Time of Birth"),a(ce,"class","input input-bordered w-full max-w-xs mb-5"),a(q,"class","flex flex-col"),a(R,"class","flex flex-row justify-between "),a(ne,"class","btn btn-outline mt-10"),a(f,"class","form-control"),a(d,"action",""),a(u,"class","p-10 card "),a(s,"class","editpage mt-0 flex flex-col content-center no-scrollbar svelte-1ni36e7"),a(l,"class","flex justify-center ")},m(le,de){A(le,e,de),A(le,t,de),A(le,l,de),o(l,s),o(s,i),fe&&fe.m(i,null),o(s,r),o(s,u),o(u,d),o(d,f),o(f,h),o(f,p),o(f,g),o(f,m),o(f,_),o(f,x),W(x,n[1].name),o(f,k),o(f,y),o(f,T),o(f,v),W(v,n[1].place),o(f,$),o(f,j),o(f,C),o(f,w),o(w,D),o(w,U),o(w,N),o(w,O),mt(w,n[1].gender),o(f,H),o(f,R),o(R,S),o(S,P),o(S,B),o(S,M),W(M,n[1].dob),o(R,Z),o(R,q),o(q,se),o(q,ge),o(q,ce),W(ce,n[1].time),o(f,Ue),o(f,ne),o(s,ae),o(s,K),ee(z,s,null),be=!0,ke||(Oe=[J(x,"input",n[5]),J(v,"input",n[6]),J(w,"change",n[7]),J(M,"input",n[8]),J(ce,"input",n[9]),J(d,"submit",Le(n[2]))],ke=!0)},p(le,[de]){le[0]?fe?de&1&&L(fe,1):(fe=It(),fe.c(),L(fe,1),fe.m(i,null)):fe&&(Ne(),F(fe,1,1,()=>{fe=null}),Ae()),de&2&&x.value!==le[1].name&&W(x,le[1].name),de&2&&v.value!==le[1].place&&W(v,le[1].place),de&2&&mt(w,le[1].gender),de&2&&W(M,le[1].dob),de&2&&W(ce,le[1].time)},i(le){be||(L(fe),L(Ie),L(z.$$.fragment,le),ue||De(()=>{ue=Te(s,Re,{}),ue.start()}),be=!0)},o(le){F(fe),F(z.$$.fragment,le),be=!1},d(le){le&&I(e),le&&I(t),le&&I(l),fe&&fe.d(),te(z),ke=!1,he(Oe)}}}let ws=!1;function ys(n,e,t){let l,s,i;G(n,$e,v=>t(1,l=v)),G(n,we,v=>t(15,s=v)),G(n,Pe,v=>t(16,v)),G(n,je,v=>t(17,i=v));const r=async()=>{await Yt.impact({style:Vt.Medium})};ve(async()=>{r()}),i.Story,i.Subject;let u="",d,f=!1;i.Profilephotourl;async function h(){localStorage.removeItem("NewUser"),p()}async function p(){t(0,f=!0);const{value:v}=await pe.get({key:"SesionID"});u=v;const j=await(await fetch(`${s.BaseURi}/updatedata`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uid:u,name:l.name,gender:l.gender,place:l.place,dob:l.dob,time:l.time})})).json();let C;C=await JSON.stringify(j),console.log(C),setTimeout(function(){t(0,f=!1),Ce("/pickphotos")},500)}function g(){l.name=this.value,$e.set(l)}function m(){l.place=this.value,$e.set(l)}function _(){l.gender=Xt(this),$e.set(l)}function x(){l.dob=this.value,$e.set(l)}function k(){l.time=this.value,$e.set(l)}const y=()=>{ye()},T=()=>{p()};return n.$$.update=()=>{n.$$.dirty&16&&(t(4,d="teacher"),console.log(d))},[f,l,h,p,d,g,m,_,x,k,y,T]}class xs extends Y{constructor(e){super();V(this,e,ys,vs,X,{})}}function ks(n){let e;return{c(){e=c("div"),e.innerHTML='<div class="absolute right-3 bg-green-50 rounded-b-full"><p class="text-2xl">\u{1F469}\u{1F3FB}\u200D\u{1F3EB}</p></div>',a(e,"class","")},m(t,l){A(t,e,l)},d(t){t&&I(e)}}}function Jt(n){let e;return{c(){e=c("h1"),e.textContent=`${n[1].subject}`,a(e,"class","font-mono mt-0 font-semibold mx-5")},m(t,l){A(t,e,l)},p:E,d(t){t&&I(e)}}}function Ss(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x,k,y,T,v,$,j,C,w,D,U,N,O,H,R=n[1].state=="teacher"&&ks(),S=n[0].State=="teacher"&&Jt(n);return{c(){e=c("main"),t=c("div"),l=b(),s=c("div"),i=c("div"),r=c("div"),u=c("div"),d=c("img"),h=b(),R&&R.c(),p=b(),g=c("div"),m=c("h1"),m.textContent=`${n[1].username}`,_=b(),S&&S.c(),x=b(),k=c("div"),y=c("p"),y.textContent=`${n[1].story}`,T=b(),v=c("div"),v.innerHTML="<h1>Happy your here \u{1FAC0}</h1>",$=b(),j=c("div"),C=b(),w=c("div"),D=c("button"),D.textContent="\u{1F448}\u{1F3FC}",U=b(),N=c("button"),N.textContent="Dm",a(t,"class","header flex flex-row sticky mt-20 mx-10 justify-end text-center"),a(d,"alt","dsf"),ie(d.src,f=n[1].profilpiclink)||a(d,"src",f),a(u,"class","mb-0 w-24 mx-auto h-24 mask mask-circle"),a(r,"class","avatar "),a(m,"class","font-mono text-xl font-bold mx-5"),a(g,"class","flex flex-col mx-0"),a(i,"class","namecard flex flex-row mx-2"),a(y,"class","flex justify-start mx-4 mt-3 font-mono font-thin"),a(k,"class","w-96"),a(v,"class","spacer h-20 font-mono mt-52 text-center svelte-o9sh96"),a(s,"class","flex flex-col"),a(j,"class","spacer svelte-o9sh96"),a(D,"class","backbutton btn btn-square btn-outline text-2xl mx-5 font-mono text-gray-400"),a(N,"class","btn btn-md btn-outline w-20 self-end "),a(w,"class","fixed flex flex-row justify-center w-full h-12 bottom-6 ")},m(P,B){A(P,e,B),o(e,t),o(e,l),o(e,s),o(s,i),o(i,r),o(r,u),o(u,d),o(r,h),R&&R.m(r,null),o(i,p),o(i,g),o(g,m),o(g,_),S&&S.m(g,null),o(s,x),o(s,k),o(k,y),o(s,T),o(s,v),o(e,$),o(e,j),o(e,C),o(e,w),o(w,D),o(w,U),o(w,N),O||(H=[J(D,"click",ye),J(N,"click",n[2])],O=!0)},p(P,[B]){P[0].State=="teacher"?S?S.p(P,B):(S=Jt(P),S.c(),S.m(g,null)):S&&(S.d(1),S=null)},i:E,o:E,d(P){P&&I(e),R&&R.d(),S&&S.d(),O=!1,he(H)}}}function $s(n,e,t){let l,s,i;G(n,Ut,f=>t(3,l=f)),G(n,Ye,f=>t(4,s=f)),G(n,je,f=>t(0,i=f));let r=s.index,u=l.users[r];function d(){Se("/dm")}return[i,u,d]}class js extends Y{constructor(e){super();V(this,e,$s,Ss,X,{})}}const Lt=xe();function Cs(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x=n[4].Body+"",k,y,T,v,$,j,C,w,D,U,N,O,H,R;return{c(){e=c("main"),t=c("button"),t.textContent="\u{1F448}\u{1F3FC}",l=b(),s=c("div"),i=c("p"),r=re(n[0]),u=b(),d=c("div"),f=c("div"),h=c("img"),g=b(),m=c("div"),_=c("h1"),k=re(x),y=b(),T=re(n[3]),v=b(),$=c("h1"),j=re(n[3]),C=b(),w=c("div"),D=c("div"),U=c("input"),N=b(),O=c("button"),O.textContent="push",a(t,"class","backbutton btn btn-square btn-outline fixed text-2xl mx-5 mt-2 font-mono text-gray-400"),a(i,"class","font-bold text-xl mb-10"),a(h,"alt","profilepic"),ie(h.src,p=n[1])||a(h,"src",p),a(f,"class","rounded-full w-24 h-24"),a(d,"class","avatar online mb-10"),a(_,"class","text-2xl text-center"),a($,"class","text-xl text-center text-gray-500"),a(m,"class","mt-44"),a(U,"type","text"),a(U,"placeholder","Type here"),a(U,"class","input inline input-accent input-bordered "),a(O,"class","btn btn-outline "),a(O,"role","button"),a(O,"aria-pressed","true"),a(D,"class","flex flex-row justify-center"),a(w,"class","form-control messagebox  svelte-viw88x"),a(s,"class","flex flex-col justify-center items-center"),a(e,"class","flex flex-col mt-1 ")},m(S,P){A(S,e,P),o(e,t),o(e,l),o(e,s),o(s,i),o(i,r),o(s,u),o(s,d),o(d,f),o(f,h),o(s,g),o(s,m),o(m,_),o(_,k),o(_,y),o(_,T),o(m,v),o(m,$),o($,j),o(s,C),o(s,w),o(w,D),o(D,U),W(U,n[2]),o(D,N),o(D,O),H||(R=[J(t,"click",ye),J(U,"input",n[7]),J(O,"click",n[8]),J(w,"submit",Le(n[9]))],H=!0)},p(S,[P]){P&1&&me(r,S[0]),P&2&&!ie(h.src,p=S[1])&&a(h,"src",p),P&16&&x!==(x=S[4].Body+"")&&me(k,x),P&8&&me(T,S[3]),P&8&&me(j,S[3]),P&4&&U.value!==S[2]&&W(U,S[2])},i:E,o:E,d(S){S&&I(e),H=!1,he(R)}}}function Us(n,e,t){let l,s,i,r,u,d;G(n,je,$=>t(10,l=$)),G(n,st,$=>t(4,s=$)),G(n,Ut,$=>t(11,i=$)),G(n,Ye,$=>t(12,r=$)),G(n,we,$=>t(13,u=$)),G(n,Lt,$=>t(5,d=$));async function f($){const{value:j}=await pe.get({key:"SesionID"});let C=j;console.log("fetching ");const D=await(await fetch(`${u.BaseURi}/getuserbyusername`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:C,username:s.SenderUsername})})).json();let U;U=JSON.stringify(D);let N=await JSON.parse(U);return console.log(N.userdata),N.userdata}let h="",p="",g=r.index,m=i.users[g];if(s.SenderUsername=="")console.log(m),h=m.username,p=m.profilpiclink,console.log("FROM ARRAY",h);else{h=s.SenderUsername;let $=f();console.log($),p=s.Profilephotourl}let _,x="";function k($){const j={event:"message",sender_username:l.Username,target_username:h,body:_};t(2,_=""),console.log("->",j),$.send(JSON.stringify(j)),t(3,x=_)}function y(){_=this.value,t(2,_)}return[h,p,_,x,s,d,k,y,()=>{k(d)},()=>{k(d)}]}class Os extends Y{constructor(e){super();V(this,e,Us,Cs,X,{})}}function Ds(n){let e,t,l;return{c(){e=c("button"),e.textContent="\u{1F448}\u{1F3FC}",a(e,"class","backbutton btn btn-square btn-outline text-2xl mt-10 mx-2 fixed font-mono text-gray-400")},m(s,i){A(s,e,i),t||(l=J(e,"click",n[10]),t=!0)},p:E,i:E,o:E,d(s){s&&I(e),t=!1,l()}}}function Ps(n){let e,t,l,s;return l=new Qe({}),{c(){e=c("div"),t=c("div"),Q(l.$$.fragment),a(e,"class","absolute")},m(i,r){A(i,e,r),o(e,t),ee(l,t,null),s=!0},p:E,i(i){s||(L(l.$$.fragment,i),s=!0)},o(i){F(l.$$.fragment,i),s=!1},d(i){i&&I(e),te(l)}}}function Rt(n){let e,t;return{c(){e=c("h1"),t=re(n[6]),a(e,"class","text-red-500 text-xs w-full mx-3")},m(l,s){A(l,e,s),o(e,t)},p(l,s){s&64&&me(t,l[6])},d(l){l&&I(e)}}}function Mt(n){let e,t;return{c(){e=c("h1"),t=re(n[5]),a(e,"class","text-green-500 text-xl w-full mx-3")},m(l,s){A(l,e,s),o(e,t)},p(l,s){s&32&&me(t,l[5])},d(l){l&&I(e)}}}function Ts(n){let e,t,l,s,i,r,u,d,f,h,p=n[7].Username+"",g,m,_,x,k,y,T,v,$,j,C,w,D,U,N,O,H,R;const S=[Ps,Ds],P=[];function B(q,se){return q[4]?0:1}l=B(n),s=P[l]=S[l](n);let M=!n[2]&&Rt(n),Z=n[2]&&Mt(n);return{c(){e=c("main"),t=c("div"),s.c(),i=b(),r=c("div"),u=c("img"),f=b(),h=c("h1"),g=re(p),m=b(),M&&M.c(),_=b(),Z&&Z.c(),x=b(),k=c("div"),y=c("input"),T=b(),v=c("textarea"),$=b(),j=c("div"),C=c("div"),w=c("button"),w.textContent="pick image",D=b(),U=c("div"),N=c("button"),N.textContent="put \u2709\uFE0F",a(t,"class","mt-15 form-control h-auto flex flex-wrap flex-col "),a(u,"class","putimage svelte-1xmu2r8"),ie(u.src,d=n[3])||a(u,"src",d),a(u,"alt",""),a(h,"class","mt-3 mb-2 mx-3 text-xl"),a(y,"type","text"),a(y,"placeholder","subject"),a(y,"class","input input-bordered"),a(v,"class","textarea h-24 w-72 mt-3 textarea-bordered"),a(v,"placeholder","Bio"),a(k,"class","form-control w-52 mx-3 z-10"),a(w,"class","w-20 btn btn-neutral pickimage self-end mx-2 svelte-1xmu2r8"),a(C,"class","flex flex-col absolute w-full z-0 bottom-64"),a(N,"class","w-28 btn btn-primary pickimage self-end mx-2 svelte-1xmu2r8"),a(U,"class","flex flex-col absolute w-full z-0 bottom-44"),a(j,"class","relative"),a(r,"class","container  svelte-1xmu2r8"),a(e,"class","flex flex-col font-mono")},m(q,se){A(q,e,se),o(e,t),P[l].m(t,null),o(e,i),o(e,r),o(r,u),o(r,f),o(r,h),o(h,g),o(r,m),M&&M.m(r,null),o(r,_),Z&&Z.m(r,null),o(r,x),o(r,k),o(k,y),W(y,n[0]),o(k,T),o(k,v),W(v,n[1]),o(r,$),o(r,j),o(j,C),o(C,w),o(j,D),o(j,U),o(U,N),O=!0,H||(R=[J(y,"input",n[11]),J(v,"input",n[12]),J(w,"click",n[9]),J(N,"click",n[8])],H=!0)},p(q,[se]){let ge=l;l=B(q),l===ge?P[l].p(q,se):(Ne(),F(P[ge],1,1,()=>{P[ge]=null}),Ae(),s=P[l],s?s.p(q,se):(s=P[l]=S[l](q),s.c()),L(s,1),s.m(t,null)),(!O||se&8&&!ie(u.src,d=q[3]))&&a(u,"src",d),(!O||se&128)&&p!==(p=q[7].Username+"")&&me(g,p),q[2]?M&&(M.d(1),M=null):M?M.p(q,se):(M=Rt(q),M.c(),M.m(r,_)),q[2]?Z?Z.p(q,se):(Z=Mt(q),Z.c(),Z.m(r,x)):Z&&(Z.d(1),Z=null),se&1&&y.value!==q[0]&&W(y,q[0]),se&2&&W(v,q[1])},i(q){O||(L(s),O=!0)},o(q){F(s),O=!1},d(q){q&&I(e),P[l].d(),M&&M.d(),Z&&Z.d(),H=!1,he(R)}}}function Ns(n,e,t){let l,s,i;G(n,Pe,w=>t(15,l=w)),G(n,je,w=>t(7,s=w)),G(n,we,w=>t(16,i=w)),ve(async()=>{localStorage.setItem("activetab","post")});let r="",u="",d,f,h=!1,p,g=!1,m="",_="";async function x(w){t(4,g=!0);const{value:D}=await pe.get({key:"SesionID"}),N=await(await fetch(`${i.BaseURi}/addpost`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:D,type:"post",subject:r,brief:u,mediaurl:w.postimageurl})})).json();console.log(N),t(4,g=!1),N.msg=="postsuccess"&&(t(5,m="  \u{1F44A}\u{1F3FB} "),setTimeout(()=>{localStorage.setItem("activetab","discover"),ye()},300))}async function k(){const w=await gt.readFile({path:f.path}),D=new Blob([new Uint8Array(Xe(w.data))],{type:`image/${f.format}`});console.log(D),t(4,g=!0);let U=new FormData,N=`${i.CdnURi}/uploadpostimage`;U.append("attachment",D,`${s.Username}`),console.log(s.UserID),U.append("uuid",JSON.stringify(l.SessionID));const H=await(await fetch(N,{method:"POST",body:U})).json();let R=JSON.stringify(H),S=await JSON.parse(R);console.log(S.msg,"FROM OBJ"),S.msg=="success"&&(console.log(S),x(S),t(4,g=!1))}async function y(){let w=await fetch((await f).webPath).then(S=>S.blob());console.log(w),t(4,g=!0);let D=new FormData,U=`${i.CdnURi}/uploadpostimage`;D.append("attachment",w,`${s.Username}`),console.log(s.UserID),D.append("uuid",JSON.stringify(l.SessionID));const O=await(await fetch(U,{method:"POST",body:D})).json();let H=JSON.stringify(O),R=await JSON.parse(H);console.log(R.msg,"FROM OBJ"),R.msg=="success"&&(console.log(R),x(R))}async function T(){t(5,m="upload started \u{1F91E}\u{1F3FB} "),r==""||u==""||h==!1?(t(2,d=!1),t(6,_="pick image and fill all the fields please")):t(2,d=!0),pt.isNativePlatform()?d?k():console.log("no"):d?y():console.log("no")}async function v(){if(f=await Ze.getPhoto({quality:50,allowEditing:!0,width:50,height:50,resultType:Ke.Uri,source:We.Photos,preserveAspectRatio:!1}),f)return console.log(f.webPath,"this is iamge "),t(3,p=f.webPath),h=!0,f;console.log("image picker failed")}const $=()=>{ye()};function j(){r=this.value,t(0,r)}function C(){u=this.value,t(1,u)}return[r,u,d,p,g,m,_,s,T,v,$,j,C]}class As extends Y{constructor(e){super();V(this,e,Ns,Ts,X,{})}}function Is(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x,k,y,T;return{c(){e=c("div"),t=c("div"),l=c("img"),i=b(),r=c("div"),u=c("h1"),u.textContent=`${n[0].username}`,d=b(),f=c("h2"),f.textContent=`${n[0].subject}`,h=b(),p=c("p"),p.textContent=`${n[0].brief}`,g=b(),m=c("div"),_=c("button"),_.textContent="\u{1F448}\u{1F3FC}",x=b(),k=c("button"),k.textContent="Delete",a(l,"class","w-full  svelte-1apoogp"),ie(l.src,s=n[0].mediaurl)||a(l,"src",s),a(l,"alt",""),a(u,"class","font-mono text-2xl md:text-4xl"),a(f,"class","font-light text-xl"),a(p,"class","mt-2 flex-wrap font-extralight"),a(r,"class","bidinfo mt-3 mx-4 font-mono "),a(t,"class","mt-32 container"),a(_,"class","backbutton btn btn-square btn-outline text-2xl mx-5 font-mono text-gray-400"),a(k,"class","btn btn-md btn-error w-20 self-end "),a(m,"class","mx-auto fixed flex flex-row justify-center w-full h-12 bottom-6 "),a(e,"class","flex flex-col justify-center ")},m(v,$){A(v,e,$),o(e,t),o(t,l),o(t,i),o(t,r),o(r,u),o(r,d),o(r,f),o(r,h),o(r,p),o(e,g),o(e,m),o(m,_),o(m,x),o(m,k),y||(T=[J(_,"click",ye),J(k,"click",n[1])],y=!0)},p:E,i:E,o:E,d(v){v&&I(e),y=!1,he(T)}}}function Js(n,e,t){let l,s,i;G(n,we,f=>t(2,l=f)),G(n,et,f=>t(3,s=f)),G(n,tt,f=>t(4,i=f));const r=i.index,u=s.ownPosts[r];console.log(u.id,"post");async function d(){const{value:f}=await pe.get({key:"SesionID"});let h=f;await(await fetch(`${l.BaseURi}/deletepost`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uuid:h,postid:u.id})})).json(),ye()}return[u,d]}class Ls extends Y{constructor(e){super();V(this,e,Js,Is,X,{})}}function Rs(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_=n[0].SenderUsername+"",x,k,y,T=n[0].Body+"",v,$,j,C,w;return{c(){e=c("main"),t=c("h1"),t.textContent="DMs",l=b(),s=c("div"),i=b(),r=c("div"),u=c("div"),d=c("div"),f=c("img"),p=b(),g=c("div"),m=c("h1"),x=re(_),k=b(),y=c("h1"),v=re(T),$=b(),j=c("button"),j.textContent="\u{1F448}\u{1F3FC}",a(t,"class","text-3xl font-bold mt-10 mx-5"),a(s,"class","mt-15 flex flex-col"),a(f,"alt",""),ie(f.src,h=n[0].Profilephotourl)||a(f,"src",h),a(d,"class","mb-0 rounded-full w-14 h-14"),a(m,"class","mt-1 font-semibold text-xl"),a(y,"class","mt-0"),a(g,"class","flex flex-col mx-10"),a(u,"class","avatar"),a(r,"class","chat bg-gray-50 py-4 flex flex-row w-full mx-3"),a(j,"class","backbutton btn btn-square btn-outline text-2xl mx-5 mt-80 font-mono text-gray-400")},m(D,U){A(D,e,U),o(e,t),o(e,l),o(e,s),o(e,i),o(e,r),o(r,u),o(u,d),o(d,f),o(u,p),o(u,g),o(g,m),o(m,x),o(g,k),o(g,y),o(y,v),o(e,$),o(e,j),C||(w=[J(r,"click",n[1]),J(j,"click",ye)],C=!0)},p(D,[U]){U&1&&!ie(f.src,h=D[0].Profilephotourl)&&a(f,"src",h),U&1&&_!==(_=D[0].SenderUsername+"")&&me(x,_),U&1&&T!==(T=D[0].Body+"")&&me(v,T)},i:E,o:E,d(D){D&&I(e),C=!1,he(w)}}}function Ms(n,e,t){let l,s;G(n,st,r=>t(0,l=r)),G(n,Ye,r=>t(2,s=r));function i(){Me(Ye,s.profilpiclink=l.Profilephotourl,s),Se("/dm")}return[l,i]}class Bs extends Y{constructor(e){super();V(this,e,Ms,Rs,X,{})}}function Es(n){let e,t,l;return t=new At({}),{c(){e=c("main"),Q(t.$$.fragment)},m(s,i){A(s,e,i),ee(t,e,null),l=!0},p:E,i(s){l||(L(t.$$.fragment,s),l=!0)},o(s){F(t.$$.fragment,s),l=!1},d(s){s&&I(e),te(t)}}}function qs(n,e,t){return G(n,ss,l=>t(0,l)),G(n,Lt,l=>t(1,l)),G(n,st,l=>t(2,l)),G(n,we,l=>t(3,l)),G(n,$e,l=>t(4,l)),ve(async()=>{let l=await ls();je.update(s=>({UserID:l.id,Email:l.email,Password:"do you want your hashed password ? lmao cuz we dont even know it ",CreatedAt:l.createdAt,UpdatedAt:l.updatedAt,Sessions:l.sessions,Username:l.username,Story:l.story,State:l.state,Subject:l.subject,Profilephotourl:l.profilephotourl}))}),ct(async()=>{}),[]}class Fs extends Y{constructor(e){super();V(this,e,qs,Es,X,{})}}function Hs(n){let e,t,l,s,i,r,u,d,f,h,p,g,m,_,x,k,y,T,v,$,j,C,w,D,U,N,O,H,R,S,P,B,M,Z,q,se,ge,ce,Ue,ne,ae,K,z,ue,be,ke,Oe,fe,Ie,le,de,Ve,nt;return le=new Ge({}),{c(){e=c("div"),e.innerHTML='<h1 class="fixed mt-16">Pick six images of yourself</h1>',t=b(),l=c("div"),s=c("div"),i=c("div"),r=c("div"),u=c("img"),f=b(),h=c("div"),h.textContent="+",p=b(),g=c("div"),m=c("div"),_=c("img"),k=b(),y=c("div"),y.textContent="+",T=b(),v=c("div"),$=c("div"),j=c("img"),w=b(),D=c("div"),D.textContent="+",U=b(),N=c("div"),O=c("div"),H=c("img"),S=b(),P=c("div"),P.textContent="+",B=b(),M=c("div"),Z=c("div"),q=c("img"),ge=b(),ce=c("div"),ce.textContent="+",Ue=b(),ne=c("div"),ae=c("div"),K=c("img"),ue=b(),be=c("div"),be.textContent="+",ke=b(),Oe=c("div"),fe=c("button"),fe.textContent="push",Ie=b(),Q(le.$$.fragment),a(e,"class","flex flex-col justify-center items-center mt-10 w-full "),ie(u.src,d=n[0])||a(u,"src",d),a(u,"alt",""),a(r,"class","text-black w-full h-32"),a(h,"class","text-xl flex justify-center hover:text-black py-0 text-white border-2 bg-black hover:bg-white w-full h-8"),a(i,"class","w-32 h-40 bg-white rounded-sm "),ie(_.src,x=n[1])||a(_,"src",x),a(_,"alt",""),a(m,"class","text-black w-full h-32"),a(y,"class","text-xl flex justify-center hover:text-black py-0 text-white border-2 bg-black hover:bg-white w-full h-8"),a(g,"class","w-32 h-40 bg-white rounded-sm "),ie(j.src,C=n[2])||a(j,"src",C),a(j,"alt",""),a($,"class","text-black w-full h-32"),a(D,"class","text-xl flex justify-center hover:text-black py-0 text-white border-2 bg-black hover:bg-white w-full h-8"),a(v,"class","w-32 h-40 bg-white rounded-sm "),ie(H.src,R=n[3])||a(H,"src",R),a(H,"alt",""),a(O,"class","text-black w-full h-32"),a(P,"class","text-xl flex justify-center hover:text-black py-0 text-white border-2 bg-black hover:bg-white w-full h-8"),a(N,"class","w-32 h-40 bg-white rounded-sm "),ie(q.src,se=n[4])||a(q,"src",se),a(q,"alt",""),a(Z,"class","text-black w-full h-32"),a(ce,"class","text-xl flex justify-center hover:text-black py-0 text-white border-2 bg-black hover:bg-white w-full h-8"),a(M,"class","w-32 h-40 bg-white rounded-sm "),ie(K.src,z=n[5])||a(K,"src",z),a(K,"alt",""),a(ae,"class","text-black w-full h-32"),a(be,"class","text-xl flex justify-center hover:text-black py-0 text-white border-2 bg-black hover:bg-white w-full h-8"),a(ne,"class","w-32 h-40 bg-white rounded-sm "),a(s,"class","items-center grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4 mx-10 mt-32"),a(l,"class","flex justify-center items-center"),a(fe,"class","btn btn-outline w-52"),a(Oe,"class","justify-center items-center flex mt-10 ")},m(oe,_e){A(oe,e,_e),A(oe,t,_e),A(oe,l,_e),o(l,s),o(s,i),o(i,r),o(r,u),o(i,f),o(i,h),o(s,p),o(s,g),o(g,m),o(m,_),o(g,k),o(g,y),o(s,T),o(s,v),o(v,$),o($,j),o(v,w),o(v,D),o(s,U),o(s,N),o(N,O),o(O,H),o(N,S),o(N,P),o(s,B),o(s,M),o(M,Z),o(Z,q),o(M,ge),o(M,ce),o(s,Ue),o(s,ne),o(ne,ae),o(ae,K),o(ne,ue),o(ne,be),A(oe,ke,_e),A(oe,Oe,_e),o(Oe,fe),A(oe,Ie,_e),ee(le,oe,_e),de=!0,Ve||(nt=[J(h,"click",n[7]),J(y,"click",n[8]),J(D,"click",n[9]),J(P,"click",n[10]),J(ce,"click",n[11]),J(be,"click",n[12]),J(fe,"click",n[13])],Ve=!0)},p(oe,[_e]){(!de||_e&1&&!ie(u.src,d=oe[0]))&&a(u,"src",d),(!de||_e&2&&!ie(_.src,x=oe[1]))&&a(_,"src",x),(!de||_e&4&&!ie(j.src,C=oe[2]))&&a(j,"src",C),(!de||_e&8&&!ie(H.src,R=oe[3]))&&a(H,"src",R),(!de||_e&16&&!ie(q.src,se=oe[4]))&&a(q,"src",se),(!de||_e&32&&!ie(K.src,z=oe[5]))&&a(K,"src",z)},i(oe){de||(L(le.$$.fragment,oe),de=!0)},o(oe){F(le.$$.fragment,oe),de=!1},d(oe){oe&&I(e),oe&&I(t),oe&&I(l),oe&&I(ke),oe&&I(Oe),oe&&I(Ie),te(le,oe),Ve=!1,he(nt)}}}function zs(n,e,t){let l,s;G(n,$e,U=>t(18,l=U)),G(n,we,U=>t(19,s=U));let i,r,u,d,f,h,p;async function g(U){if(i=await Ze.getPhoto({quality:50,allowEditing:!0,resultType:Ke.Uri,source:We.Photos,preserveAspectRatio:!1}),i){switch(console.log(i.webPath,"this is iamge "),U){case 1:console.log("img 1 "),t(0,r=i.webPath);break;case 2:t(1,u=i.webPath);break;case 3:t(2,d=i.webPath);break;case 4:t(3,f=i.webPath);break;case 5:t(4,h=i.webPath);break;case 6:t(5,p=i.webPath);break}return i}else console.log("image picker failed")}async function m(U){const{value:N}=await pe.get({key:"SesionID"});let O=N;console.log(O," uuid bro");const R=await(await fetch(`${s.BaseURi}/photourlsend`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({uid:O,photourl:U.postimageurl})})).json();console.log(R),R.msg=="postsuccess"}async function _(){const U=await gt.readFile({path:i.path}),N=new Blob([new Uint8Array(Xe(U.data))],{type:`image/${i.format}`});console.log(N);let O=new FormData,H=`${s.CdnURi}/uploadpostimage`;O.append("attachment",N,`${l.name}`),O.append("uuid",JSON.stringify(l.uid));const S=await(await fetch(H,{method:"POST",body:O})).json();let P=JSON.stringify(S),B=await JSON.parse(P);console.log(B," this is our shittt"),B.msg=="success"&&(console.log(B),m(B))}async function x(){let U=await fetch((await i).webPath).then(B=>B.blob());console.log(U);let N=new FormData,O=`${s.CdnURi}/uploadpostimage`;N.append("attachment",U,`${l.name}`),console.log(l.uid,"fate uid bro"),N.append("uuid",JSON.stringify(l.uid));const R=await(await fetch(O,{method:"POST",body:N})).json();let S=JSON.stringify(R),P=await JSON.parse(S);P.msg=="success"&&(console.log(P," this is our shittt"),m(P))}async function k(U){const N=await g(U);console.log(N,"retuened"),y()}async function y(){const{value:U}=await pe.get({key:"SesionID"});Me($e,l.uid=U,l),Me($e,l.name="cuntslimslam",l),console.log("uuid bro ",l),pt.isNativePlatform()?_():x()}return[r,u,d,f,h,p,k,()=>{k(1)},()=>{k(2)},()=>{k(3)},()=>{k(4)},()=>{k(5)},()=>{k(6)},()=>{Se("/root")}]}class Gs extends Y{constructor(e){super();V(this,e,zs,Hs,X,{})}}function Ys(n){let e,t,l;return t=new Zt({props:{routes:n[0]}}),{c(){e=c("main"),Q(t.$$.fragment),a(e,"class","font-mono no-scrollbar svelte-1185eo4")},m(s,i){A(s,e,i),ee(t,e,null),l=!0},p:E,i(s){l||(L(t.$$.fragment,s),l=!0)},o(s){F(t.$$.fragment,s),l=!1},d(s){s&&I(e),te(t)}}}function Vs(n,e,t){let l,s,i;ve(async()=>{const{value:u}=await pe.get({key:"isLogged"});t(2,i=localStorage.getItem("NewUser")),t(1,s=u)});const r={"/":Ul,"/profile":yt,"/auth":_l,"/editprofile":Il,"/nav":At,"/post":Pt,"/addpost":As,"/i":Be,"/versionupdate":_s,"/newuser":xs,"/viewprofile":js,"/dm":Os,"/openpost":Ls,"/root":Fs,"/inbox":Bs,"/pickphotos":Gs};return n.$$.update=()=>{n.$$.dirty&4&&i=="true"&&console.log(i," new user"),n.$$.dirty&2&&t(3,l=s),n.$$.dirty&8&&(l=="true"?(console.log("Logged"),Ce("/root")):(Pe.update(u=>({SessionID:"",Email:"",Autenticated:!1,Location:"",Device:""})),Ce("/")))},[r,s,i,l]}class Xs extends Y{constructor(e){super();V(this,e,Vs,Ys,X,{})}}function Zs(n){let e,t,l;return t=new Xs({}),{c(){e=c("main"),Q(t.$$.fragment),a(e,"class","svelte-1b6pskv")},m(s,i){A(s,e,i),ee(t,e,null),l=!0},p:E,i(s){l||(L(t.$$.fragment,s),l=!0)},o(s){F(t.$$.fragment,s),l=!1},d(s){s&&I(e),te(t)}}}function Ks(n){return ve(async()=>{}),[]}class Ws extends Y{constructor(e){super();V(this,e,Ks,Zs,X,{})}}new Ws({target:document.getElementById("app")});
